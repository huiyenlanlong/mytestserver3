<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UHWC Monthly Reporting</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
        .login-container, .form-container { max-width: 900px; margin: auto; padding: 20px; background: white; margin-top: 40px; box-shadow: 0 0 5px rgba(0,0,0,0.3); border-radius: 8px; }
        h1, h2 { text-align: center; }
        label { font-weight: bold; display: block; margin-top: 15px; }
        input, select, textarea { width: 100%; padding: 8px; margin-top: 5px; }
        button { background: #007BFF; color: white; padding: 10px 15px; border: none; cursor: pointer; border-radius: 4px; margin-top: 20px; }
        button:hover { background: #0056b3; }
        .hidden { display: none; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background: #f0f0f0; }
    </style>
</head>
<body>

<div class="login-container" id="loginPage">
    <h1>Admin Login</h1>
    <label for="username">Username</label>
    <input type="text" id="username">
    <label for="password">Password</label>
    <input type="password" id="password">
    <button onclick="login()">Login</button>
</div>

<div class="form-container hidden" id="formPage">
    <h2>MANIPUR: UAAM (UHWC) Monthly Reporting Format</h2>
    
    <label>Select District</label>
    <select id="district">
        <option>Imphal West</option>
        <option>Imphal East</option>
        <option>Thoubal</option>
        <option>Bishnupur</option>
    </select>

    <label>Name of the Block</label>
    <input type="text" id="block">

    <label>Name of the Facility</label>
    <input type="text" id="facility">

    <label>Report Month and Year</label>
    <input type="month" id="reportMonth">

    <label>NIN</label>
    <input type="number" id="nin">

    <label>Catchment Population</label>
    <input type="number" id="population">

    <label>Performance Table</label>
    <table id="performanceTable">
        <thead>
            <tr>
                <th>Sl</th>
                <th>Data Element / Indicator</th>
                <th>Data Source</th>
                <th>Monthly Target</th>
                <th>Performance for the Month</th>
                <th>Incentive Amount</th>
                <th>Incentive To Be Paid</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td><td><input type="text" value="Example Indicator 1"></td>
                <td><input type="text"></td><td><input type="number"></td>
                <td><input type="number"></td><td><input type="number"></td><td><input type="number"></td>
            </tr>
            <tr>
                <td>2</td><td><input type="text" value="Example Indicator 2"></td>
                <td><input type="text"></td><td><input type="number"></td>
                <td><input type="number"></td><td><input type="number"></td><td><input type="number"></td>
            </tr>
            <!-- Add more rows as needed -->
        </tbody>
    </table>

    <button onclick="submitData()">Submit Report</button>
</div>

<script>
const SCRIPT_URL = "YOUR_GOOGLE_APPS_SCRIPT_URL"; // Replace this

function login() {
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if (user === "admin" && pass === "12345") {
        document.getElementById('loginPage').classList.add('hidden');
        document.getElementById('formPage').classList.remove('hidden');
    } else {
        alert("Invalid login");
    }
}

function submitData() {
    const district = document.getElementById('district').value;
    const block = document.getElementById('block').value;
    const facility = document.getElementById('facility').value;
    const reportMonth = document.getElementById('reportMonth').value;
    const nin = document.getElementById('nin').value;
    const population = document.getElementById('population').value;

    const rows = [];
    document.querySelectorAll("#performanceTable tbody tr").forEach(tr => {
        const cells = tr.querySelectorAll("input");
        rows.push({
            indicator: cells[0].value,
            source: cells[1].value,
            monthlyTarget: cells[2].value,
            performance: cells[3].value,
            incentiveAmount: cells[4].value,
            incentivePaid: cells[5].value
        });
    });

    const data = {
        district, block, facility, reportMonth, nin, population, rows
    };

    fetch(SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
    })
    .then(res => res.text())
    .then(response => alert("Report submitted successfully!"))
    .catch(err => alert("Error: " + err));
}
</script>

</body>
</html>
